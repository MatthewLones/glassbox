{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.236.0"},"children":{"GlassBox-staging-Network":{"id":"GlassBox-staging-Network","path":"GlassBox-staging-Network","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"VPC":{"id":"VPC","path":"GlassBox-staging-Network/VPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Network/VPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"glassbox-staging-vpc"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"GlassBox-staging-Network/VPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.236.0"},"children":{"Subnet":{"id":"Subnet","path":"GlassBox-staging-Network/VPC/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PublicSubnet1"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"GlassBox-staging-Network/VPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"RouteTable":{"id":"RouteTable","path":"GlassBox-staging-Network/VPC/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PublicSubnet1"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"GlassBox-staging-Network/VPC/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCPublicSubnet1RouteTableFEE4B781"},"subnetId":{"Ref":"VPCPublicSubnet1SubnetB4246D30"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"GlassBox-staging-Network/VPC/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VPCIGWB7E252D3"},"routeTableId":{"Ref":"VPCPublicSubnet1RouteTableFEE4B781"}}}},"EIP":{"id":"EIP","path":"GlassBox-staging-Network/VPC/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PublicSubnet1"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}]}}},"NATGateway":{"id":"NATGateway","path":"GlassBox-staging-Network/VPC/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["VPCPublicSubnet1EIP6AD938E8","AllocationId"]},"subnetId":{"Ref":"VPCPublicSubnet1SubnetB4246D30"},"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PublicSubnet1"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"GlassBox-staging-Network/VPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.236.0"},"children":{"Subnet":{"id":"Subnet","path":"GlassBox-staging-Network/VPC/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PublicSubnet2"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"GlassBox-staging-Network/VPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"RouteTable":{"id":"RouteTable","path":"GlassBox-staging-Network/VPC/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PublicSubnet2"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"GlassBox-staging-Network/VPC/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCPublicSubnet2RouteTable6F1A15F1"},"subnetId":{"Ref":"VPCPublicSubnet2Subnet74179F39"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"GlassBox-staging-Network/VPC/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VPCIGWB7E252D3"},"routeTableId":{"Ref":"VPCPublicSubnet2RouteTable6F1A15F1"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"GlassBox-staging-Network/VPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.236.0"},"children":{"Subnet":{"id":"Subnet","path":"GlassBox-staging-Network/VPC/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PrivateSubnet1"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"GlassBox-staging-Network/VPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"RouteTable":{"id":"RouteTable","path":"GlassBox-staging-Network/VPC/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PrivateSubnet1"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"GlassBox-staging-Network/VPC/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCPrivateSubnet1RouteTableBE8A6027"},"subnetId":{"Ref":"VPCPrivateSubnet1Subnet8BCA10E0"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"GlassBox-staging-Network/VPC/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VPCPublicSubnet1NATGatewayE0556630"},"routeTableId":{"Ref":"VPCPrivateSubnet1RouteTableBE8A6027"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"GlassBox-staging-Network/VPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.236.0"},"children":{"Subnet":{"id":"Subnet","path":"GlassBox-staging-Network/VPC/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PrivateSubnet2"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"GlassBox-staging-Network/VPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"RouteTable":{"id":"RouteTable","path":"GlassBox-staging-Network/VPC/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/PrivateSubnet2"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"GlassBox-staging-Network/VPC/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCPrivateSubnet2RouteTable0A19E10E"},"subnetId":{"Ref":"VPCPrivateSubnet2SubnetCFCDAA7A"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"GlassBox-staging-Network/VPC/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VPCPublicSubnet1NATGatewayE0556630"},"routeTableId":{"Ref":"VPCPrivateSubnet2RouteTable0A19E10E"}}}}}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"GlassBox-staging-Network/VPC/IsolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.236.0"},"children":{"Subnet":{"id":"Subnet","path":"GlassBox-staging-Network/VPC/IsolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.4.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/IsolatedSubnet1"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"GlassBox-staging-Network/VPC/IsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"RouteTable":{"id":"RouteTable","path":"GlassBox-staging-Network/VPC/IsolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/IsolatedSubnet1"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"GlassBox-staging-Network/VPC/IsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCIsolatedSubnet1RouteTableEB156210"},"subnetId":{"Ref":"VPCIsolatedSubnet1SubnetEBD00FC6"}}}}}},"IsolatedSubnet2":{"id":"IsolatedSubnet2","path":"GlassBox-staging-Network/VPC/IsolatedSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.236.0"},"children":{"Subnet":{"id":"Subnet","path":"GlassBox-staging-Network/VPC/IsolatedSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.5.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/IsolatedSubnet2"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"GlassBox-staging-Network/VPC/IsolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"RouteTable":{"id":"RouteTable","path":"GlassBox-staging-Network/VPC/IsolatedSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"GlassBox-staging-Network/VPC/IsolatedSubnet2"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"GlassBox-staging-Network/VPC/IsolatedSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCIsolatedSubnet2RouteTable9B4F78DC"},"subnetId":{"Ref":"VPCIsolatedSubnet2Subnet4B1C8CAA"}}}}}},"IGW":{"id":"IGW","path":"GlassBox-staging-Network/VPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"glassbox-staging-vpc"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}]}}},"VPCGW":{"id":"VPCGW","path":"GlassBox-staging-Network/VPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"VPCIGWB7E252D3"},"vpcId":{"Ref":"VPCB9E5F0B4"}}}}}},"AlbSecurityGroup":{"id":"AlbSecurityGroup","path":"GlassBox-staging-Network/AlbSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Network/AlbSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for GlassBox ALB","groupName":"glassbox-staging-alb-sg","securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow HTTP traffic"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS traffic"}],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"to GlassBoxstagingNetworkApiSecurityGroupD8174F54:8080":{"id":"to GlassBoxstagingNetworkApiSecurityGroupD8174F54:8080","path":"GlassBox-staging-Network/AlbSecurityGroup/to GlassBoxstagingNetworkApiSecurityGroupD8174F54:8080","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Allow outbound to API","destinationSecurityGroupId":{"Fn::GetAtt":["ApiSecurityGroup4E5BB726","GroupId"]},"fromPort":8080,"groupId":{"Fn::GetAtt":["AlbSecurityGroup86A59E99","GroupId"]},"ipProtocol":"tcp","toPort":8080}}}}},"ApiSecurityGroup":{"id":"ApiSecurityGroup","path":"GlassBox-staging-Network/ApiSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Network/ApiSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for GlassBox API services","groupName":"glassbox-staging-api-sg","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"from GlassBoxstagingNetworkAlbSecurityGroup39DD9134:8080":{"id":"from GlassBoxstagingNetworkAlbSecurityGroup39DD9134:8080","path":"GlassBox-staging-Network/ApiSecurityGroup/from GlassBoxstagingNetworkAlbSecurityGroup39DD9134:8080","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow traffic from ALB","fromPort":8080,"groupId":{"Fn::GetAtt":["ApiSecurityGroup4E5BB726","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["AlbSecurityGroup86A59E99","GroupId"]},"toPort":8080}}}}},"WorkerSecurityGroup":{"id":"WorkerSecurityGroup","path":"GlassBox-staging-Network/WorkerSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Network/WorkerSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for GlassBox worker services","groupName":"glassbox-staging-worker-sg","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}}}},"DatabaseSecurityGroup":{"id":"DatabaseSecurityGroup","path":"GlassBox-staging-Network/DatabaseSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Network/DatabaseSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for GlassBox database","groupName":"glassbox-staging-db-sg","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"from GlassBoxstagingNetworkApiSecurityGroupD8174F54:5432":{"id":"from GlassBoxstagingNetworkApiSecurityGroupD8174F54:5432","path":"GlassBox-staging-Network/DatabaseSecurityGroup/from GlassBoxstagingNetworkApiSecurityGroupD8174F54:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow PostgreSQL from API","fromPort":5432,"groupId":{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ApiSecurityGroup4E5BB726","GroupId"]},"toPort":5432}}},"from GlassBoxstagingNetworkWorkerSecurityGroup18AD6DE2:5432":{"id":"from GlassBoxstagingNetworkWorkerSecurityGroup18AD6DE2:5432","path":"GlassBox-staging-Network/DatabaseSecurityGroup/from GlassBoxstagingNetworkWorkerSecurityGroup18AD6DE2:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow PostgreSQL from Workers","fromPort":5432,"groupId":{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["WorkerSecurityGroup5529CF0B","GroupId"]},"toPort":5432}}}}},"CacheSecurityGroup":{"id":"CacheSecurityGroup","path":"GlassBox-staging-Network/CacheSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Network/CacheSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for GlassBox cache","groupName":"glassbox-staging-cache-sg","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Network"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"from GlassBoxstagingNetworkApiSecurityGroupD8174F54:6379":{"id":"from GlassBoxstagingNetworkApiSecurityGroupD8174F54:6379","path":"GlassBox-staging-Network/CacheSecurityGroup/from GlassBoxstagingNetworkApiSecurityGroupD8174F54:6379","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow Redis from API","fromPort":6379,"groupId":{"Fn::GetAtt":["CacheSecurityGroupC6A3ACCF","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ApiSecurityGroup4E5BB726","GroupId"]},"toPort":6379}}},"from GlassBoxstagingNetworkWorkerSecurityGroup18AD6DE2:6379":{"id":"from GlassBoxstagingNetworkWorkerSecurityGroup18AD6DE2:6379","path":"GlassBox-staging-Network/CacheSecurityGroup/from GlassBoxstagingNetworkWorkerSecurityGroup18AD6DE2:6379","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow Redis from Workers","fromPort":6379,"groupId":{"Fn::GetAtt":["CacheSecurityGroupC6A3ACCF","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["WorkerSecurityGroup5529CF0B","GroupId"]},"toPort":6379}}}}},"VpcId":{"id":"VpcId","path":"GlassBox-staging-Network/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GlassBox-staging-Network/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Network/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"Exports":{"id":"Exports","path":"GlassBox-staging-Network/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"VPCIsolatedSubnet1SubnetEBD00FC6\"}":{"id":"Output{\"Ref\":\"VPCIsolatedSubnet1SubnetEBD00FC6\"}","path":"GlassBox-staging-Network/Exports/Output{\"Ref\":\"VPCIsolatedSubnet1SubnetEBD00FC6\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"VPCIsolatedSubnet2Subnet4B1C8CAA\"}":{"id":"Output{\"Ref\":\"VPCIsolatedSubnet2Subnet4B1C8CAA\"}","path":"GlassBox-staging-Network/Exports/Output{\"Ref\":\"VPCIsolatedSubnet2Subnet4B1C8CAA\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"DatabaseSecurityGroup7319C0F6\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DatabaseSecurityGroup7319C0F6\",\"GroupId\"]}","path":"GlassBox-staging-Network/Exports/Output{\"Fn::GetAtt\":[\"DatabaseSecurityGroup7319C0F6\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"CacheSecurityGroupC6A3ACCF\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CacheSecurityGroupC6A3ACCF\",\"GroupId\"]}","path":"GlassBox-staging-Network/Exports/Output{\"Fn::GetAtt\":[\"CacheSecurityGroupC6A3ACCF\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"AlbSecurityGroup86A59E99\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"AlbSecurityGroup86A59E99\",\"GroupId\"]}","path":"GlassBox-staging-Network/Exports/Output{\"Fn::GetAtt\":[\"AlbSecurityGroup86A59E99\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"VPCPublicSubnet1SubnetB4246D30\"}":{"id":"Output{\"Ref\":\"VPCPublicSubnet1SubnetB4246D30\"}","path":"GlassBox-staging-Network/Exports/Output{\"Ref\":\"VPCPublicSubnet1SubnetB4246D30\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"VPCPublicSubnet2Subnet74179F39\"}":{"id":"Output{\"Ref\":\"VPCPublicSubnet2Subnet74179F39\"}","path":"GlassBox-staging-Network/Exports/Output{\"Ref\":\"VPCPublicSubnet2Subnet74179F39\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"VPCPrivateSubnet1Subnet8BCA10E0\"}":{"id":"Output{\"Ref\":\"VPCPrivateSubnet1Subnet8BCA10E0\"}","path":"GlassBox-staging-Network/Exports/Output{\"Ref\":\"VPCPrivateSubnet1Subnet8BCA10E0\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"VPCPrivateSubnet2SubnetCFCDAA7A\"}":{"id":"Output{\"Ref\":\"VPCPrivateSubnet2SubnetCFCDAA7A\"}","path":"GlassBox-staging-Network/Exports/Output{\"Ref\":\"VPCPrivateSubnet2SubnetCFCDAA7A\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"ApiSecurityGroup4E5BB726\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ApiSecurityGroup4E5BB726\",\"GroupId\"]}","path":"GlassBox-staging-Network/Exports/Output{\"Fn::GetAtt\":[\"ApiSecurityGroup4E5BB726\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"VPCB9E5F0B4\"}":{"id":"Output{\"Ref\":\"VPCB9E5F0B4\"}","path":"GlassBox-staging-Network/Exports/Output{\"Ref\":\"VPCB9E5F0B4\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"WorkerSecurityGroup5529CF0B\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"WorkerSecurityGroup5529CF0B\",\"GroupId\"]}","path":"GlassBox-staging-Network/Exports/Output{\"Fn::GetAtt\":[\"WorkerSecurityGroup5529CF0B\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GlassBox-staging-Network/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GlassBox-staging-Network/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"GlassBox-staging-Database":{"id":"GlassBox-staging-Database","path":"GlassBox-staging-Database","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"DatabaseSecret":{"id":"DatabaseSecret","path":"GlassBox-staging-Database/DatabaseSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Database/DatabaseSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"GlassBox database credentials","generateSecretString":{"secretStringTemplate":"{\"username\":\"glassbox\"}","generateStringKey":"password","excludePunctuation":true,"passwordLength":32},"name":"glassbox/staging/database","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Database"}]}}},"Attachment":{"id":"Attachment","path":"GlassBox-staging-Database/DatabaseSecret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Database/DatabaseSecret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"DatabaseSecret86DBB7B3"},"targetId":{"Ref":"DatabaseB269D8BB"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"ParameterGroup":{"id":"ParameterGroup","path":"GlassBox-staging-Database/ParameterGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.ParameterGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Database/ParameterGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBParameterGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBParameterGroup","aws:cdk:cloudformation:props":{"description":"Parameter group for postgres16","family":"postgres16","parameters":{"shared_preload_libraries":"pg_stat_statements","max_connections":"100","work_mem":"65536","maintenance_work_mem":"262144"},"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Database"}]}}}}},"Database":{"id":"Database","path":"GlassBox-staging-Database/Database","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.236.0"},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"GlassBox-staging-Database/Database/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.236.0"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Database/Database/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for Database database","subnetIds":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCIsolatedSubnet1SubnetEBD00FC6298E81EF"},{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCIsolatedSubnet2Subnet4B1C8CAAD8B83B81"}],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Database"}]}}}}},"Resource":{"id":"Resource","path":"GlassBox-staging-Database/Database/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","autoMinorVersionUpgrade":true,"backupRetentionPeriod":7,"copyTagsToSnapshot":true,"dbInstanceClass":"db.t4g.small","dbInstanceIdentifier":"glassbox-staging","dbName":"glassbox","dbParameterGroupName":{"Ref":"ParameterGroup5E32DECB"},"dbSubnetGroupName":{"Ref":"DatabaseSubnetGroup7D60F180"},"deletionProtection":false,"enableCloudwatchLogsExports":["postgresql","upgrade"],"enablePerformanceInsights":false,"engine":"postgres","engineVersion":"16.4","masterUsername":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DatabaseSecret86DBB7B3"},":SecretString:username::}}"]]},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DatabaseSecret86DBB7B3"},":SecretString:password::}}"]]},"maxAllocatedStorage":100,"multiAz":false,"publiclyAccessible":false,"storageEncrypted":true,"storageType":"gp3","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Database"}],"vpcSecurityGroups":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputFnGetAttDatabaseSecurityGroup7319C0F6GroupId72A1B827"}]}}}}},"DatabaseEndpoint":{"id":"DatabaseEndpoint","path":"GlassBox-staging-Database/DatabaseEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"DatabasePort":{"id":"DatabasePort","path":"GlassBox-staging-Database/DatabasePort","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"DatabaseSecretArn":{"id":"DatabaseSecretArn","path":"GlassBox-staging-Database/DatabaseSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GlassBox-staging-Database/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Database/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"Exports":{"id":"Exports","path":"GlassBox-staging-Database/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"DatabaseSecret86DBB7B3\"}":{"id":"Output{\"Ref\":\"DatabaseSecret86DBB7B3\"}","path":"GlassBox-staging-Database/Exports/Output{\"Ref\":\"DatabaseSecret86DBB7B3\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GlassBox-staging-Database/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GlassBox-staging-Database/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"GlassBox-staging-Cache":{"id":"GlassBox-staging-Cache","path":"GlassBox-staging-Cache","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"GlassBox-staging-Cache/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticache.CfnSubnetGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElastiCache::SubnetGroup","aws:cdk:cloudformation:props":{"cacheSubnetGroupName":"glassbox-staging-cache-subnets","description":"Subnet group for GlassBox Redis cache","subnetIds":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCIsolatedSubnet1SubnetEBD00FC6298E81EF"},{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCIsolatedSubnet2Subnet4B1C8CAAD8B83B81"}],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Cache"}]}}},"RedisCluster":{"id":"RedisCluster","path":"GlassBox-staging-Cache/RedisCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticache.CfnCacheCluster","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElastiCache::CacheCluster","aws:cdk:cloudformation:props":{"autoMinorVersionUpgrade":true,"cacheNodeType":"cache.t4g.micro","cacheSubnetGroupName":{"Ref":"SubnetGroup"},"clusterName":"glassbox-staging","engine":"redis","engineVersion":"7.1","numCacheNodes":1,"port":6379,"snapshotRetentionLimit":7,"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Cache"}],"vpcSecurityGroupIds":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputFnGetAttCacheSecurityGroupC6A3ACCFGroupId492AA7D3"}]}}},"RedisEndpoint":{"id":"RedisEndpoint","path":"GlassBox-staging-Cache/RedisEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"RedisPort":{"id":"RedisPort","path":"GlassBox-staging-Cache/RedisPort","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GlassBox-staging-Cache/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Cache/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"Exports":{"id":"Exports","path":"GlassBox-staging-Cache/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Address\"]}":{"id":"Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Address\"]}","path":"GlassBox-staging-Cache/Exports/Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Address\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Port\"]}":{"id":"Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Port\"]}","path":"GlassBox-staging-Cache/Exports/Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Port\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GlassBox-staging-Cache/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GlassBox-staging-Cache/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"GlassBox-staging-Storage":{"id":"GlassBox-staging-Storage","path":"GlassBox-staging-Storage","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"FilesBucket":{"id":"FilesBucket","path":"GlassBox-staging-Storage/FilesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Storage/FilesBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"glassbox-staging-files-846532307761","corsConfiguration":{"corsRules":[{"maxAge":3600,"allowedHeaders":["*"],"allowedMethods":["GET","PUT","POST"],"allowedOrigins":["*"]}]},"lifecycleConfiguration":{"rules":[{"abortIncompleteMultipartUpload":{"daysAfterInitiation":7},"id":"DeleteIncompleteMultipartUploads","status":"Enabled"},{"id":"TransitionToInfrequentAccess","status":"Enabled","transitions":[{"storageClass":"STANDARD_IA","transitionInDays":90}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Storage"}]}}},"Policy":{"id":"Policy","path":"GlassBox-staging-Storage/FilesBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Storage/FilesBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"FilesBucket16450113"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["FilesBucket16450113","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["FilesBucket16450113","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["DistributionOrigin1S3Origin5F5C0696","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["FilesBucket16450113","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"GlassBox-staging-Storage/FilesBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.236.0"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Storage/FilesBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"GlassBox-staging-Storage/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.236.0"},"children":{"Staging":{"id":"Staging","path":"GlassBox-staging-Storage/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"Role":{"id":"Role","path":"GlassBox-staging-Storage/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}},"Handler":{"id":"Handler","path":"GlassBox-staging-Storage/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"Distribution":{"id":"Distribution","path":"GlassBox-staging-Storage/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.236.0"},"children":{"Origin1":{"id":"Origin1","path":"GlassBox-staging-Storage/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"GlassBox-staging-Storage/Distribution/Origin1/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Storage/Distribution/Origin1/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for GlassBoxstagingStorageDistributionOrigin1A8BC8857"}}}}}}}},"Resource":{"id":"Resource","path":"GlassBox-staging-Storage/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["FilesBucket16450113","RegionalDomainName"]},"id":"GlassBoxstagingStorageDistributionOrigin1A8BC8857","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"DistributionOrigin1S3Origin5F5C0696"}]]}}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"GlassBoxstagingStorageDistributionOrigin1A8BC8857","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"originRequestPolicyId":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","viewerProtocolPolicy":"redirect-to-https"},"comment":"GlassBox staging file distribution","httpVersion":"http2","ipv6Enabled":true,"priceClass":"PriceClass_100"},"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Storage"}]}}}}},"FilesBucketName":{"id":"FilesBucketName","path":"GlassBox-staging-Storage/FilesBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"FilesBucketArn":{"id":"FilesBucketArn","path":"GlassBox-staging-Storage/FilesBucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"DistributionDomain":{"id":"DistributionDomain","path":"GlassBox-staging-Storage/DistributionDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GlassBox-staging-Storage/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Storage/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"Exports":{"id":"Exports","path":"GlassBox-staging-Storage/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Fn::GetAtt\":[\"FilesBucket16450113\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"FilesBucket16450113\",\"Arn\"]}","path":"GlassBox-staging-Storage/Exports/Output{\"Fn::GetAtt\":[\"FilesBucket16450113\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"FilesBucket16450113\"}":{"id":"Output{\"Ref\":\"FilesBucket16450113\"}","path":"GlassBox-staging-Storage/Exports/Output{\"Ref\":\"FilesBucket16450113\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GlassBox-staging-Storage/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GlassBox-staging-Storage/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"GlassBox-staging-Messaging":{"id":"GlassBox-staging-Messaging","path":"GlassBox-staging-Messaging","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"AgentDeadLetterQueue":{"id":"AgentDeadLetterQueue","path":"GlassBox-staging-Messaging/AgentDeadLetterQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Messaging/AgentDeadLetterQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"glassbox-staging-agent-dlq","sqsManagedSseEnabled":true,"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Messaging"}]}}}}},"AgentQueue":{"id":"AgentQueue","path":"GlassBox-staging-Messaging/AgentQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Messaging/AgentQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":345600,"queueName":"glassbox-staging-agent-jobs","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["AgentDeadLetterQueue7F07CB76","Arn"]},"maxReceiveCount":3},"sqsManagedSseEnabled":true,"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Messaging"}],"visibilityTimeout":900}}}}},"FileDeadLetterQueue":{"id":"FileDeadLetterQueue","path":"GlassBox-staging-Messaging/FileDeadLetterQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Messaging/FileDeadLetterQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"glassbox-staging-file-dlq","sqsManagedSseEnabled":true,"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Messaging"}]}}}}},"FileQueue":{"id":"FileQueue","path":"GlassBox-staging-Messaging/FileQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Messaging/FileQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":345600,"queueName":"glassbox-staging-file-jobs","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["FileDeadLetterQueueDB15DCD6","Arn"]},"maxReceiveCount":3},"sqsManagedSseEnabled":true,"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Messaging"}],"visibilityTimeout":300}}}}},"AgentQueueUrl":{"id":"AgentQueueUrl","path":"GlassBox-staging-Messaging/AgentQueueUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"AgentQueueArn":{"id":"AgentQueueArn","path":"GlassBox-staging-Messaging/AgentQueueArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"FileQueueUrl":{"id":"FileQueueUrl","path":"GlassBox-staging-Messaging/FileQueueUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"FileQueueArn":{"id":"FileQueueArn","path":"GlassBox-staging-Messaging/FileQueueArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GlassBox-staging-Messaging/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Messaging/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"Exports":{"id":"Exports","path":"GlassBox-staging-Messaging/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Fn::GetAtt\":[\"AgentQueueFAC8FABD\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"AgentQueueFAC8FABD\",\"Arn\"]}","path":"GlassBox-staging-Messaging/Exports/Output{\"Fn::GetAtt\":[\"AgentQueueFAC8FABD\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"FileQueueD59508EE\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"FileQueueD59508EE\",\"Arn\"]}","path":"GlassBox-staging-Messaging/Exports/Output{\"Fn::GetAtt\":[\"FileQueueD59508EE\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"AgentQueueFAC8FABD\"}":{"id":"Output{\"Ref\":\"AgentQueueFAC8FABD\"}","path":"GlassBox-staging-Messaging/Exports/Output{\"Ref\":\"AgentQueueFAC8FABD\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"FileQueueD59508EE\"}":{"id":"Output{\"Ref\":\"FileQueueD59508EE\"}","path":"GlassBox-staging-Messaging/Exports/Output{\"Ref\":\"FileQueueD59508EE\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GlassBox-staging-Messaging/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GlassBox-staging-Messaging/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"GlassBox-staging-Auth":{"id":"GlassBox-staging-Auth","path":"GlassBox-staging-Auth","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"UserPool":{"id":"UserPool","path":"GlassBox-staging-Auth/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Auth/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","mfaConfiguration":"OFF","policies":{"passwordPolicy":{"temporaryPasswordValidityDays":7,"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":false}},"schema":[{"name":"email","mutable":true,"required":true},{"name":"name","mutable":true,"required":false},{"name":"orgId","attributeDataType":"String","mutable":true}],"smsVerificationMessage":"The verification code to your new account is {####}","userPoolTags":{"Environment":"staging","ManagedBy":"CDK","Project":"GlassBox","Stack":"Auth"},"usernameAttributes":["email"],"userPoolName":"glassbox-staging","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}}}},"UserPoolClient":{"id":"UserPoolClient","path":"GlassBox-staging-Auth/UserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Auth/UserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["openid","email","profile"],"callbackUrLs":["http://localhost:3000/callback","http://localhost:5173/callback"],"clientName":"glassbox-staging-client","enableTokenRevocation":true,"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"idTokenValidity":60,"logoutUrLs":["http://localhost:3000/logout","http://localhost:5173/logout"],"preventUserExistenceErrors":"ENABLED","refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}},"UserPoolId":{"id":"UserPoolId","path":"GlassBox-staging-Auth/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"GlassBox-staging-Auth/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"UserPoolArn":{"id":"UserPoolArn","path":"GlassBox-staging-Auth/UserPoolArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GlassBox-staging-Auth/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Auth/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"Exports":{"id":"Exports","path":"GlassBox-staging-Auth/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"UserPool6BA7E5F2\"}":{"id":"Output{\"Ref\":\"UserPool6BA7E5F2\"}","path":"GlassBox-staging-Auth/Exports/Output{\"Ref\":\"UserPool6BA7E5F2\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"UserPoolClient2F5918F7\"}":{"id":"Output{\"Ref\":\"UserPoolClient2F5918F7\"}","path":"GlassBox-staging-Auth/Exports/Output{\"Ref\":\"UserPoolClient2F5918F7\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GlassBox-staging-Auth/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GlassBox-staging-Auth/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"GlassBox-staging-Compute":{"id":"GlassBox-staging-Compute","path":"GlassBox-staging-Compute","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"Cluster":{"id":"Cluster","path":"GlassBox-staging-Compute/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/Cluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"glassbox-staging","clusterSettings":[{"name":"containerInsights","value":"disabled"}],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}]}}}}},"ApiRepository":{"id":"ApiRepository","path":"GlassBox-staging-Compute/ApiRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.236.0"}},"WorkerRepository":{"id":"WorkerRepository","path":"GlassBox-staging-Compute/WorkerRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.236.0"}},"LlmSecret":{"id":"LlmSecret","path":"GlassBox-staging-Compute/LlmSecret","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"GlassBox-staging-Compute/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}],"roleName":"glassbox-staging-execution","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"GlassBox-staging-Compute/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":["arn:aws:secretsmanager:us-east-1:846532307761:secret:glassbox/staging/llm-??????",{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"}]},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":["arn:aws:ecr:us-east-1:846532307761:repository/glassbox-staging-api","arn:aws:ecr:us-east-1:846532307761:repository/glassbox-staging-worker"]},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ApiLogGroup1DEDFC07","Arn"]},{"Fn::GetAtt":["WorkerLogGroup31FDBE4A","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ExecutionRoleDefaultPolicyA5B92313","roles":[{"Ref":"ExecutionRole605A040B"}]}}}}}}},"ApiTaskRole":{"id":"ApiTaskRole","path":"GlassBox-staging-Compute/ApiTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/ApiTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"glassbox-staging-api-task","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"GlassBox-staging-Compute/ApiTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/ApiTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"GlassBox-staging-Storage:ExportsOutputFnGetAttFilesBucket16450113Arn55CDC1C6"},{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Storage:ExportsOutputFnGetAttFilesBucket16450113Arn55CDC1C6"},"/*"]]}]},{"Action":["sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:SendMessage"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputFnGetAttAgentQueueFAC8FABDArn04EF5DA7"},{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputFnGetAttFileQueueD59508EEArn30672699"}]}],"Version":"2012-10-17"},"policyName":"ApiTaskRoleDefaultPolicyBEF5D530","roles":[{"Ref":"ApiTaskRole12FAD4A7"}]}}}}}}},"WorkerTaskRole":{"id":"WorkerTaskRole","path":"GlassBox-staging-Compute/WorkerTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/WorkerTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"glassbox-staging-worker-task","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"GlassBox-staging-Compute/WorkerTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/WorkerTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"GlassBox-staging-Storage:ExportsOutputFnGetAttFilesBucket16450113Arn55CDC1C6"},{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Storage:ExportsOutputFnGetAttFilesBucket16450113Arn55CDC1C6"},"/*"]]}]},{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputFnGetAttAgentQueueFAC8FABDArn04EF5DA7"},{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputFnGetAttFileQueueD59508EEArn30672699"}]}],"Version":"2012-10-17"},"policyName":"WorkerTaskRoleDefaultPolicy4DD5AEA2","roles":[{"Ref":"WorkerTaskRole013F226A"}]}}}}}}},"ApiLogGroup":{"id":"ApiLogGroup","path":"GlassBox-staging-Compute/ApiLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/ApiLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/glassbox-staging/api","retentionInDays":7,"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}]}}}}},"WorkerLogGroup":{"id":"WorkerLogGroup","path":"GlassBox-staging-Compute/WorkerLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/WorkerLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/glassbox-staging/worker","retentionInDays":7,"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}]}}}}},"ApiTaskDef":{"id":"ApiTaskDef","path":"GlassBox-staging-Compute/ApiTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/ApiTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Join":["",["846532307761.dkr.ecr.us-east-1.",{"Ref":"AWS::URLSuffix"},"/glassbox-staging-api:latest"]]},"name":"api","portMappings":[{"containerPort":8080,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"ApiLogGroup1DEDFC07"},"awslogs-stream-prefix":"api","awslogs-region":"us-east-1"}},"environment":[{"name":"GO_ENV","value":"staging"},{"name":"ENVIRONMENT","value":"staging"},{"name":"AWS_REGION","value":"us-east-1"},{"name":"S3_BUCKET","value":{"Fn::ImportValue":"GlassBox-staging-Storage:ExportsOutputRefFilesBucket164501139A977DFC"}},{"name":"SQS_AGENT_QUEUE_URL","value":{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputRefAgentQueueFAC8FABD09616C7A"}},{"name":"SQS_FILE_QUEUE_URL","value":{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputRefFileQueueD59508EEBD4263C6"}},{"name":"COGNITO_USER_POOL_ID","value":{"Fn::ImportValue":"GlassBox-staging-Auth:ExportsOutputRefUserPool6BA7E5F296FD7236"}},{"name":"COGNITO_CLIENT_ID","value":{"Fn::ImportValue":"GlassBox-staging-Auth:ExportsOutputRefUserPoolClient2F5918F753847A55"}},{"name":"COGNITO_REGION","value":"us-east-1"},{"name":"REDIS_URL","value":{"Fn::Join":["",["redis://",{"Fn::ImportValue":"GlassBox-staging-Cache:ExportsOutputFnGetAttRedisClusterRedisEndpointAddress2C712DA2"},":",{"Fn::ImportValue":"GlassBox-staging-Cache:ExportsOutputFnGetAttRedisClusterRedisEndpointPortD2710AFC"}]]}},{"name":"PORT","value":"8080"},{"name":"ALLOWED_ORIGINS","value":"http://localhost:3000,http://localhost:5173"}],"secrets":[{"name":"DB_HOST","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":host::"]]}},{"name":"DB_PORT","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":port::"]]}},{"name":"DB_USERNAME","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":username::"]]}},{"name":"DB_PASSWORD","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":password::"]]}},{"name":"DB_NAME","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":dbname::"]]}},{"name":"JWT_SECRET","valueFrom":"arn:aws:secretsmanager:us-east-1:846532307761:secret:glassbox/staging/llm:jwtSecret::"}],"healthCheck":{"command":["CMD-SHELL","wget --no-verbose --tries=1 -O /dev/null http://localhost:8080/health || exit 1"],"interval":30,"retries":5,"startPeriod":120,"timeout":10}}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["ExecutionRole605A040B","Arn"]},"family":"glassbox-staging-api","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}],"taskRoleArn":{"Fn::GetAtt":["ApiTaskRole12FAD4A7","Arn"]}}}},"api":{"id":"api","path":"GlassBox-staging-Compute/ApiTaskDef/api","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.236.0"}}}},"ALB":{"id":"ALB","path":"GlassBox-staging-Compute/ALB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/ALB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"name":"glassbox-staging","scheme":"internet-facing","securityGroups":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputFnGetAttAlbSecurityGroup86A59E99GroupIdE3A37BC7"}],"subnets":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCPublicSubnet1SubnetB4246D30D84F935B"},{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCPublicSubnet2Subnet74179F3969CC10AD"}],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}],"type":"application"}}},"HttpListener":{"id":"HttpListener","path":"GlassBox-staging-Compute/ALB/HttpListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/ALB/HttpListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"ApiTargetGroup5723F19D"}}],"loadBalancerArn":{"Ref":"ALBAEE750D2"},"port":80,"protocol":"HTTP"}}}}}}},"ApiService":{"id":"ApiService","path":"GlassBox-staging-Compute/ApiService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.236.0"},"children":{"Service":{"id":"Service","path":"GlassBox-staging-Compute/ApiService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"ClusterEB0386A7"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"deploymentCircuitBreaker":{"enable":true,"rollback":true},"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"ApiTargetGroup5723F19D"},"containerName":"api","containerPort":8080}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCPrivateSubnet1Subnet8BCA10E01F79A1B7"},{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCPrivateSubnet2SubnetCFCDAA7AB22CF85D"}],"securityGroups":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputFnGetAttApiSecurityGroup4E5BB726GroupIdA239A589"}]}},"serviceName":"glassbox-staging-api","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}],"taskDefinition":{"Ref":"ApiTaskDef37DBDBD0"}}}}}},"ApiTargetGroup":{"id":"ApiTargetGroup","path":"GlassBox-staging-Compute/ApiTargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/ApiTargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckIntervalSeconds":30,"healthCheckPath":"/health","healthCheckTimeoutSeconds":10,"healthyThresholdCount":2,"name":"glassbox-staging-api","port":8080,"protocol":"HTTP","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}],"targetGroupAttributes":[{"key":"deregistration_delay.timeout_seconds","value":"30"},{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","unhealthyThresholdCount":5,"vpcId":{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCB9E5F0B4BD23A326"}}}}}},"WorkerTaskDef":{"id":"WorkerTaskDef","path":"GlassBox-staging-Compute/WorkerTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/WorkerTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"command":["python","-m","agent.worker"],"essential":true,"image":{"Fn::Join":["",["846532307761.dkr.ecr.us-east-1.",{"Ref":"AWS::URLSuffix"},"/glassbox-staging-worker:latest"]]},"name":"agent-worker","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"WorkerLogGroup31FDBE4A"},"awslogs-stream-prefix":"agent","awslogs-region":"us-east-1"}},"environment":[{"name":"GO_ENV","value":"staging"},{"name":"ENVIRONMENT","value":"staging"},{"name":"AWS_REGION","value":"us-east-1"},{"name":"S3_BUCKET","value":{"Fn::ImportValue":"GlassBox-staging-Storage:ExportsOutputRefFilesBucket164501139A977DFC"}},{"name":"SQS_AGENT_QUEUE_URL","value":{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputRefAgentQueueFAC8FABD09616C7A"}},{"name":"SQS_FILE_QUEUE_URL","value":{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputRefFileQueueD59508EEBD4263C6"}},{"name":"COGNITO_USER_POOL_ID","value":{"Fn::ImportValue":"GlassBox-staging-Auth:ExportsOutputRefUserPool6BA7E5F296FD7236"}},{"name":"COGNITO_CLIENT_ID","value":{"Fn::ImportValue":"GlassBox-staging-Auth:ExportsOutputRefUserPoolClient2F5918F753847A55"}},{"name":"COGNITO_REGION","value":"us-east-1"},{"name":"REDIS_URL","value":{"Fn::Join":["",["redis://",{"Fn::ImportValue":"GlassBox-staging-Cache:ExportsOutputFnGetAttRedisClusterRedisEndpointAddress2C712DA2"},":",{"Fn::ImportValue":"GlassBox-staging-Cache:ExportsOutputFnGetAttRedisClusterRedisEndpointPortD2710AFC"}]]}},{"name":"PYTHONUNBUFFERED","value":"1"}],"secrets":[{"name":"DB_HOST","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":host::"]]}},{"name":"DB_PORT","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":port::"]]}},{"name":"DB_USERNAME","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":username::"]]}},{"name":"DB_PASSWORD","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":password::"]]}},{"name":"DB_NAME","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":dbname::"]]}},{"name":"ANTHROPIC_API_KEY","valueFrom":"arn:aws:secretsmanager:us-east-1:846532307761:secret:glassbox/staging/llm:anthropicApiKey::"},{"name":"OPENAI_API_KEY","valueFrom":"arn:aws:secretsmanager:us-east-1:846532307761:secret:glassbox/staging/llm:openaiApiKey::"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["ExecutionRole605A040B","Arn"]},"family":"glassbox-staging-worker","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}],"taskRoleArn":{"Fn::GetAtt":["WorkerTaskRole013F226A","Arn"]}}}},"agent-worker":{"id":"agent-worker","path":"GlassBox-staging-Compute/WorkerTaskDef/agent-worker","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.236.0"}}}},"AgentWorkerService":{"id":"AgentWorkerService","path":"GlassBox-staging-Compute/AgentWorkerService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.236.0"},"children":{"Service":{"id":"Service","path":"GlassBox-staging-Compute/AgentWorkerService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"ClusterEB0386A7"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"deploymentCircuitBreaker":{"enable":true,"rollback":true},"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCPrivateSubnet1Subnet8BCA10E01F79A1B7"},{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCPrivateSubnet2SubnetCFCDAA7AB22CF85D"}],"securityGroups":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputFnGetAttWorkerSecurityGroup5529CF0BGroupId178F84DF"}]}},"serviceName":"glassbox-staging-agent-worker","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}],"taskDefinition":{"Ref":"WorkerTaskDef3CFCC8D9"}}}}}},"FileWorkerTaskDef":{"id":"FileWorkerTaskDef","path":"GlassBox-staging-Compute/FileWorkerTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Compute/FileWorkerTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"command":["python","-m","file_processor.worker"],"essential":true,"image":{"Fn::Join":["",["846532307761.dkr.ecr.us-east-1.",{"Ref":"AWS::URLSuffix"},"/glassbox-staging-worker:latest"]]},"name":"file-worker","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"WorkerLogGroup31FDBE4A"},"awslogs-stream-prefix":"file","awslogs-region":"us-east-1"}},"environment":[{"name":"GO_ENV","value":"staging"},{"name":"ENVIRONMENT","value":"staging"},{"name":"AWS_REGION","value":"us-east-1"},{"name":"S3_BUCKET","value":{"Fn::ImportValue":"GlassBox-staging-Storage:ExportsOutputRefFilesBucket164501139A977DFC"}},{"name":"SQS_AGENT_QUEUE_URL","value":{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputRefAgentQueueFAC8FABD09616C7A"}},{"name":"SQS_FILE_QUEUE_URL","value":{"Fn::ImportValue":"GlassBox-staging-Messaging:ExportsOutputRefFileQueueD59508EEBD4263C6"}},{"name":"COGNITO_USER_POOL_ID","value":{"Fn::ImportValue":"GlassBox-staging-Auth:ExportsOutputRefUserPool6BA7E5F296FD7236"}},{"name":"COGNITO_CLIENT_ID","value":{"Fn::ImportValue":"GlassBox-staging-Auth:ExportsOutputRefUserPoolClient2F5918F753847A55"}},{"name":"COGNITO_REGION","value":"us-east-1"},{"name":"REDIS_URL","value":{"Fn::Join":["",["redis://",{"Fn::ImportValue":"GlassBox-staging-Cache:ExportsOutputFnGetAttRedisClusterRedisEndpointAddress2C712DA2"},":",{"Fn::ImportValue":"GlassBox-staging-Cache:ExportsOutputFnGetAttRedisClusterRedisEndpointPortD2710AFC"}]]}},{"name":"PYTHONUNBUFFERED","value":"1"}],"secrets":[{"name":"DB_HOST","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":host::"]]}},{"name":"DB_PORT","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":port::"]]}},{"name":"DB_USERNAME","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":username::"]]}},{"name":"DB_PASSWORD","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":password::"]]}},{"name":"DB_NAME","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"GlassBox-staging-Database:ExportsOutputRefDatabaseSecret86DBB7B353068790"},":dbname::"]]}},{"name":"OPENAI_API_KEY","valueFrom":"arn:aws:secretsmanager:us-east-1:846532307761:secret:glassbox/staging/llm:openaiApiKey::"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["ExecutionRole605A040B","Arn"]},"family":"glassbox-staging-file-worker","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}],"taskRoleArn":{"Fn::GetAtt":["WorkerTaskRole013F226A","Arn"]}}}},"file-worker":{"id":"file-worker","path":"GlassBox-staging-Compute/FileWorkerTaskDef/file-worker","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.236.0"}}}},"FileWorkerService":{"id":"FileWorkerService","path":"GlassBox-staging-Compute/FileWorkerService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.236.0"},"children":{"Service":{"id":"Service","path":"GlassBox-staging-Compute/FileWorkerService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"ClusterEB0386A7"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"deploymentCircuitBreaker":{"enable":true,"rollback":true},"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCPrivateSubnet1Subnet8BCA10E01F79A1B7"},{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputRefVPCPrivateSubnet2SubnetCFCDAA7AB22CF85D"}],"securityGroups":[{"Fn::ImportValue":"GlassBox-staging-Network:ExportsOutputFnGetAttWorkerSecurityGroup5529CF0BGroupId178F84DF"}]}},"serviceName":"glassbox-staging-file-worker","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Compute"}],"taskDefinition":{"Ref":"FileWorkerTaskDef2E1CFBA7"}}}}}},"LoadBalancerDns":{"id":"LoadBalancerDns","path":"GlassBox-staging-Compute/LoadBalancerDns","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"ApiRepositoryUri":{"id":"ApiRepositoryUri","path":"GlassBox-staging-Compute/ApiRepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"WorkerRepositoryUri":{"id":"WorkerRepositoryUri","path":"GlassBox-staging-Compute/WorkerRepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"ClusterName":{"id":"ClusterName","path":"GlassBox-staging-Compute/ClusterName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GlassBox-staging-Compute/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Compute/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"Exports":{"id":"Exports","path":"GlassBox-staging-Compute/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"ClusterEB0386A7\"}":{"id":"Output{\"Ref\":\"ClusterEB0386A7\"}","path":"GlassBox-staging-Compute/Exports/Output{\"Ref\":\"ClusterEB0386A7\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"ApiServiceC9037CF0\",\"Name\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ApiServiceC9037CF0\",\"Name\"]}","path":"GlassBox-staging-Compute/Exports/Output{\"Fn::GetAtt\":[\"ApiServiceC9037CF0\",\"Name\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"AgentWorkerServiceDE58B9C3\",\"Name\"]}":{"id":"Output{\"Fn::GetAtt\":[\"AgentWorkerServiceDE58B9C3\",\"Name\"]}","path":"GlassBox-staging-Compute/Exports/Output{\"Fn::GetAtt\":[\"AgentWorkerServiceDE58B9C3\",\"Name\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Fn::GetAtt\":[\"FileWorkerService5860E915\",\"Name\"]}":{"id":"Output{\"Fn::GetAtt\":[\"FileWorkerService5860E915\",\"Name\"]}","path":"GlassBox-staging-Compute/Exports/Output{\"Fn::GetAtt\":[\"FileWorkerService5860E915\",\"Name\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GlassBox-staging-Compute/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GlassBox-staging-Compute/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"GlassBox-staging-Monitoring":{"id":"GlassBox-staging-Monitoring","path":"GlassBox-staging-Monitoring","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"AlarmTopic":{"id":"AlarmTopic","path":"GlassBox-staging-Monitoring/AlarmTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Monitoring/AlarmTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"GlassBox staging Alarms","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Monitoring"}],"topicName":"glassbox-staging-alarms"}}}}},"ApiCpuAlarm":{"id":"ApiCpuAlarm","path":"GlassBox-staging-Monitoring/ApiCpuAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Monitoring/ApiCpuAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlarmTopicD01E77F9"}],"alarmDescription":"API service CPU utilization is high","alarmName":"glassbox-staging-api-cpu","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Monitoring"}],"comparisonOperator":"GreaterThanThreshold","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputRefClusterEB0386A796A0E3FE"}},{"name":"ServiceName","value":{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputFnGetAttApiServiceC9037CF0Name3E44BA2D"}}],"evaluationPeriods":3,"metricName":"CPUUtilization","namespace":"AWS/ECS","period":300,"statistic":"Average","threshold":80,"treatMissingData":"notBreaching"}}}}},"ApiMemoryAlarm":{"id":"ApiMemoryAlarm","path":"GlassBox-staging-Monitoring/ApiMemoryAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Monitoring/ApiMemoryAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlarmTopicD01E77F9"}],"alarmDescription":"API service memory utilization is high","alarmName":"glassbox-staging-api-memory","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Monitoring"}],"comparisonOperator":"GreaterThanThreshold","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputRefClusterEB0386A796A0E3FE"}},{"name":"ServiceName","value":{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputFnGetAttApiServiceC9037CF0Name3E44BA2D"}}],"evaluationPeriods":3,"metricName":"MemoryUtilization","namespace":"AWS/ECS","period":300,"statistic":"Average","threshold":80,"treatMissingData":"notBreaching"}}}}},"DbCpuAlarm":{"id":"DbCpuAlarm","path":"GlassBox-staging-Monitoring/DbCpuAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Monitoring/DbCpuAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlarmTopicD01E77F9"}],"alarmDescription":"Database CPU utilization is high","alarmName":"glassbox-staging-db-cpu","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Monitoring"}],"comparisonOperator":"GreaterThanThreshold","dimensions":[{"name":"DBInstanceIdentifier","value":"glassbox-staging"}],"evaluationPeriods":3,"metricName":"CPUUtilization","namespace":"AWS/RDS","period":300,"statistic":"Average","threshold":80,"treatMissingData":"notBreaching"}}}}},"DbConnectionsAlarm":{"id":"DbConnectionsAlarm","path":"GlassBox-staging-Monitoring/DbConnectionsAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Monitoring/DbConnectionsAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlarmTopicD01E77F9"}],"alarmDescription":"Database connections are high","alarmName":"glassbox-staging-db-connections","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Monitoring"}],"comparisonOperator":"GreaterThanThreshold","dimensions":[{"name":"DBInstanceIdentifier","value":"glassbox-staging"}],"evaluationPeriods":2,"metricName":"DatabaseConnections","namespace":"AWS/RDS","period":300,"statistic":"Average","threshold":80,"treatMissingData":"notBreaching"}}}}},"DbStorageAlarm":{"id":"DbStorageAlarm","path":"GlassBox-staging-Monitoring/DbStorageAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Monitoring/DbStorageAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlarmTopicD01E77F9"}],"alarmDescription":"Database free storage is low","alarmName":"glassbox-staging-db-storage","tags":[{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"GlassBox"},{"key":"Stack","value":"Monitoring"}],"comparisonOperator":"LessThanThreshold","dimensions":[{"name":"DBInstanceIdentifier","value":"glassbox-staging"}],"evaluationPeriods":2,"metricName":"FreeStorageSpace","namespace":"AWS/RDS","period":300,"statistic":"Average","threshold":10737418240,"treatMissingData":"notBreaching"}}}}},"Dashboard":{"id":"Dashboard","path":"GlassBox-staging-Monitoring/Dashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"GlassBox-staging-Monitoring/Dashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"# GlassBox staging - API Services\"}},{\"type\":\"metric\",\"width\":8,\"height\":6,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"API CPU Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputRefClusterEB0386A796A0E3FE"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputFnGetAttApiServiceC9037CF0Name3E44BA2D"},"\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":8,\"height\":6,\"x\":8,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"API Memory Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputRefClusterEB0386A796A0E3FE"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputFnGetAttApiServiceC9037CF0Name3E44BA2D"},"\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":8,\"height\":6,\"x\":16,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"API Task Count\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"RunningTaskCount\",\"ClusterName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputRefClusterEB0386A796A0E3FE"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputFnGetAttApiServiceC9037CF0Name3E44BA2D"},"\",{\"period\":60}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":7,\"properties\":{\"markdown\":\"# GlassBox staging - Worker Services\"}},{\"type\":\"metric\",\"width\":8,\"height\":6,\"x\":0,\"y\":8,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Agent Worker CPU\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputRefClusterEB0386A796A0E3FE"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputFnGetAttAgentWorkerServiceDE58B9C3Name3E3CF868"},"\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":8,\"height\":6,\"x\":8,\"y\":8,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Agent Worker Memory\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputRefClusterEB0386A796A0E3FE"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputFnGetAttAgentWorkerServiceDE58B9C3Name3E3CF868"},"\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":8,\"height\":6,\"x\":16,\"y\":8,\"properties\":{\"view\":\"timeSeries\",\"title\":\"File Worker CPU\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputRefClusterEB0386A796A0E3FE"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"GlassBox-staging-Compute:ExportsOutputFnGetAttFileWorkerService5860E915Name5A307F02"},"\"]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":14,\"properties\":{\"markdown\":\"# GlassBox staging - Database\"}},{\"type\":\"metric\",\"width\":8,\"height\":6,\"x\":0,\"y\":15,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Database CPU\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/RDS\",\"CPUUtilization\",\"DBInstanceIdentifier\",\"glassbox-staging\",{\"period\":60}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":8,\"height\":6,\"x\":8,\"y\":15,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Database Connections\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/RDS\",\"DatabaseConnections\",\"DBInstanceIdentifier\",\"glassbox-staging\",{\"period\":60}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":8,\"height\":6,\"x\":16,\"y\":15,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Database Free Storage\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/RDS\",\"FreeStorageSpace\",\"DBInstanceIdentifier\",\"glassbox-staging\"]],\"yAxis\":{}}}]}"]]},"dashboardName":"glassbox-staging"}}}}},"AlarmTopicArn":{"id":"AlarmTopicArn","path":"GlassBox-staging-Monitoring/AlarmTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"DashboardUrl":{"id":"DashboardUrl","path":"GlassBox-staging-Monitoring/DashboardUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GlassBox-staging-Monitoring/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"GlassBox-staging-Monitoring/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GlassBox-staging-Monitoring/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GlassBox-staging-Monitoring/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}